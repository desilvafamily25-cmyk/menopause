<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PauseSleep Women's Health Questionnaire | Dr Premila Hewage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        .brand-gradient {
            background: linear-gradient(135deg, #2D3E5F 0%, #4A7C6F 100%);
        }
        .brand-border {
            border-color: #4A7C6F;
        }
        .step-section {
            display: none;
        }
        .step-section.active {
            display: block;
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-50 to-stone-100 p-4">
    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
        <!-- Header with Branding -->
        <div class="brand-gradient text-white p-8">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-4">
                    <div class="bg-white rounded-full p-2 w-20 h-20 flex items-center justify-center">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='100' fill='%232D3E5F'/%3E%3Cpath d='M100 50 Q120 70 100 90 Q80 70 100 50' fill='white'/%3E%3Ctext x='100' y='130' font-family='serif' font-size='24' fill='white' text-anchor='middle' font-weight='bold'%3EPauseSleep%3C/text%3E%3Cpath d='M40 150 Q100 140 160 150' fill='%23B4C9C0' opacity='0.7'/%3E%3Cpath d='M30 165 Q100 155 170 165' fill='%234A7C6F' opacity='0.8'/%3E%3C/svg%3E" alt="PauseSleep Logo" class="w-full h-full object-contain">
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold">PauseSleep</h1>
                        <p class="text-sm text-gray-200 mt-1">Women's Health Questionnaire</p>
                    </div>
                </div>
            </div>
            <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 border border-white border-opacity-20">
                <p class="text-sm leading-relaxed">
                    <span class="font-semibold text-lg">Dr Premila Hewage</span><br>
                    Founder, <a href="https://www.pausesleep.com.au" target="_blank" class="underline hover:text-gray-200 transition-colors">www.PauseSleep.com.au</a><br>
                    <span class="text-xs text-gray-200 mt-1 inline-block">GP-Led • Evidence-Based • Patient-Centred Care</span>
                </p>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="bg-stone-50 p-4">
            <div class="w-full bg-gray-200 rounded-full h-2 mb-2">
                <div id="progressBar" class="progress-bar bg-teal-600 h-2 rounded-full" style="width: 12.5%"></div>
            </div>
            <div class="flex justify-between text-sm text-gray-600">
                <span id="stepIndicator">Step 1 of 8</span>
                <span id="progressPercent">13%</span>
            </div>
        </div>

        <!-- Form Content -->
        <div class="p-6">
            <div class="bg-teal-50 border-l-4 border-teal-600 p-4 mb-6 rounded-r-lg">
                <p class="text-sm text-gray-700">
                    <strong class="text-teal-800">Complete this form</strong> to help us provide safe, personalised care for your menopause and women's health needs.
                </p>
            </div>

            <form id="womensHealthForm">
                <!-- Step 1: Personal Information -->
                <section class="step-section active" data-step="1">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Personal Information</h2>
                    <p class="text-gray-600 mb-6">Let's start with some basic information.</p>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Full Name <span class="text-red-600">*</span></label>
                            <input type="text" id="patient_name" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Date of Birth <span class="text-red-600">*</span></label>
                            <input type="date" id="dob" required class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium mb-1 text-gray-700">Height (cm)</label>
                                <input type="number" id="height_cm" step="0.1" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-1 text-gray-700">Weight (kg)</label>
                                <input type="number" id="weight_kg" step="0.1" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Step 2: Reason for Visit -->
                <section class="step-section" data-step="2">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Reason for Consultation</h2>
                    <p class="text-gray-600 mb-6">What brings you here today? (Select all that apply)</p>
                    
                    <div class="grid md:grid-cols-2 gap-3">
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_menopause" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Menopause/Perimenopause symptoms</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_weight" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Weight management</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_contraception" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Contraception advice</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_periods" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Period concerns</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_sexual" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Sexual health concerns</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_bladder" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Bladder problems</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_breast" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Breast concerns</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_mental" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Mental health concerns</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="reason_other_check" class="w-4 h-4 text-teal-600 focus:ring-teal-500">
                            <span class="text-sm">Other</span>
                        </label>
                    </div>

                    <div class="mt-4">
                        <label class="block text-sm font-medium mb-1 text-gray-700">If other, please specify</label>
                        <input type="text" id="reason_other_text" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    </div>
                </section>

                <!-- Step 3: Medical History -->
                <section class="step-section" data-step="3">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Medical History</h2>
                    
                    <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded-r-lg">
                        <h3 class="font-bold text-red-800 mb-2">⚠️ Important for Treatment Safety</h3>
                        <p class="text-sm text-red-700">Please check if you have EVER been diagnosed with any of these conditions</p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-3 mb-6">
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_breast_cancer" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Breast cancer</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_blood_clot" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Blood clot (DVT or pulmonary embolism)</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_heart_stroke" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Heart attack or stroke</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_liver" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Liver disease</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_endometrial" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Endometrial cancer or hyperplasia</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_ovarian" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Ovarian cancer</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_melanoma" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Melanoma</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_vaginal_bleeding" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">Current unexplained vaginal bleeding</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded transition-colors border border-gray-200">
                            <input type="checkbox" id="hx_none" class="w-4 h-4 text-teal-600">
                            <span class="text-sm">None of the above</span>
                        </label>
                    </div>

                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-1 text-gray-700">If you checked any conditions above, please provide year(s) diagnosed</label>
                        <textarea id="hx_details" rows="2" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Allergies</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Do you have any allergies? <span class="text-red-600">*</span></label>
                        <div class="flex gap-4">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="has_allergies" value="yes" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Yes</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="has_allergies" value="no" checked class="w-4 h-4 text-teal-600">
                                <span class="text-sm">No</span>
                            </label>
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Allergy 1: Medication/Substance</label>
                            <input type="text" id="allergy1_med" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Reaction</label>
                            <input type="text" id="allergy1_reaction" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Allergy 2: Medication/Substance</label>
                            <input type="text" id="allergy2_med" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Reaction</label>
                            <input type="text" id="allergy2_reaction" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Other Medical Conditions</h3>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-1 text-gray-700">Any other significant medical conditions?</label>
                        <textarea id="other_conditions" rows="3" placeholder="e.g., diabetes, thyroid disease, high blood pressure" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Current Medications</h3>
                    <div>
                        <label class="block text-sm font-medium mb-1 text-gray-700">List ALL current medications <span class="text-red-600">*</span></label>
                        <textarea id="current_medications" rows="4" placeholder="Include vitamins, supplements, natural therapies" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>
                </section>

                <!-- Step 4: Menstrual & Reproductive History -->
                <section class="step-section" data-step="4">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Menstrual & Reproductive History</h2>
                    
                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Menstrual Status</h3>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Are you currently having periods? <span class="text-red-600">*</span></label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="period_status" value="regular" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Yes, regular periods</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="period_status" value="irregular" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Yes, irregular periods</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="period_status" value="stopped" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">No, periods have stopped</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="period_status" value="na" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Not applicable (hysterectomy/IUD)</span>
                            </label>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-1 text-gray-700">If periods stopped, when did they stop?</label>
                        <input type="text" id="periods_stopped_when" placeholder="e.g., 2 years ago, January 2024" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Menstrual Concerns</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Do you experience any of these? (Check all that apply)</label>
                        <div class="grid md:grid-cols-2 gap-3">
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="concern_bleeding_outside" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Bleeding outside periods</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="concern_pain_sex" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Bleeding/pain with intercourse</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="concern_painful" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Painful periods</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="concern_heavy" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Heavy periods</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="concern_prolonged" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Prolonged periods</span>
                            </label>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-1 text-gray-700">Additional menstrual details</label>
                        <textarea id="menstrual_details" rows="2" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Contraception</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Are you currently using contraception?</label>
                        <div class="flex gap-4">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="using_contraception" value="yes" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Yes</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="using_contraception" value="no" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">No</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="using_contraception" value="na" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Not applicable</span>
                            </label>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-1 text-gray-700">What method?</label>
                        <input type="text" id="contraception_method" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Pregnancy History</h3>
                    <div class="grid md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Number of pregnancies</label>
                            <input type="number" id="num_pregnancies" min="0" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Vaginal births</label>
                            <input type="number" id="num_vaginal" min="0" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Caesarean births</label>
                            <input type="number" id="num_caesarean" min="0" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-1 text-gray-700">Number of miscarriages</label>
                        <input type="number" id="num_miscarriages" min="0" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 text-gray-700">Any pregnancy complications?</label>
                        <textarea id="pregnancy_complications" rows="2" placeholder="e.g., gestational diabetes, pre-eclampsia, post-partum hemorrhage" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>
                </section>

                <!-- Step 5: Preventative Health -->
                <section class="step-section" data-step="5">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Preventative Health Screening</h2>
                    
                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Screening Tests</h3>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Last Cervical Screening Test (year)</label>
                            <input type="text" id="screen_cervical_year" placeholder="e.g., 2023" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Result</label>
                            <div class="flex gap-4">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="cervical_result" value="normal" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Normal</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="cervical_result" value="abnormal" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Abnormal</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="cervical_result" value="unsure" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Unsure</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Last Mammogram (year)</label>
                            <input type="text" id="screen_mammo_year" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Last Bone Density scan (year)</label>
                            <input type="text" id="screen_bone_year" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent">
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Family History</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Do any blood relatives have the following? (Check all that apply) <span class="text-red-600">*</span></label>
                        <div class="grid md:grid-cols-2 gap-3">
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_breast" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Breast cancer</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_ovarian" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Ovarian cancer</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_heart" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Heart attack (before age 60)</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_stroke" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Stroke (before age 60)</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_clots" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Blood clots</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_diabetes" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Diabetes</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                <input type="checkbox" id="fh_none" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">None of the above</span>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1 text-gray-700">For checked conditions, which relatives?</label>
                        <textarea id="fh_details" rows="2" placeholder="e.g., 'Mother - breast cancer, Sister - diabetes'" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                    </div>
                </section>

                <!-- Step 6: Lifestyle -->
                <section class="step-section" data-step="6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Lifestyle Factors</h2>
                    
                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Smoking & Vaping</h3>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Do you currently smoke or vape? <span class="text-red-600">*</span></label>
                            <div class="flex gap-4">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="current_smoke" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="current_smoke" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Have you smoked or vaped in the past? <span class="text-red-600">*</span></label>
                            <div class="flex gap-4">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="past_smoke" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="past_smoke" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Alcohol</h3>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2 text-gray-700">Do you drink alcohol?</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="alcohol_use" value="regular" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Yes, regularly</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="alcohol_use" value="occasional" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Occasionally</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="alcohol_use" value="no" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">No</span>
                            </label>
                        </div>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Exercise</h3>
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2 text-gray-700">How often do you exercise?</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="exercise_freq" value="daily" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Daily</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="exercise_freq" value="several" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Several times per week</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="exercise_freq" value="occasional" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Occasionally</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                <input type="radio" name="exercise_freq" value="rarely" class="w-4 h-4 text-teal-600">
                                <span class="text-sm">Rarely/Never</span>
                            </label>
                        </div>
                    </div>

                    <div id="weight_management_section" style="display:none;">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Weight Management Safety Screening</h3>
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Have you EVER had any of the following? (Check all that apply)</label>
                            <div class="grid md:grid-cols-2 gap-3">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                    <input type="checkbox" id="wm_pancreatitis" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Pancreatitis</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                    <input type="checkbox" id="wm_gallbladder" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Gallbladder disease (including gallstones or removal)</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                    <input type="checkbox" id="wm_thyroid_cancer" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Medullary thyroid cancer (you or family member)</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                    <input type="checkbox" id="wm_men2" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">MEN2 (Multiple Endocrine Neoplasia type 2)</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-3 rounded border border-gray-200">
                                    <input type="checkbox" id="wm_none" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">None of the above</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Step 7: Relationship & Safety -->
                <section class="step-section" data-step="7">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Relationship & Safety</h2>
                    <p class="text-gray-600 mb-6">Your safety and wellbeing are important to us. This information is confidential.</p>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Are you currently afraid for your safety or worried about being harmed in your relationship? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_afraid" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_afraid" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_afraid" value="prefer_not" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Prefer not to answer</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Do you currently experience verbal, physical, or financial abuse? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_abuse" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_abuse" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_current_abuse" value="prefer_not" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Prefer not to answer</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Have you ever been afraid for your safety in a past relationship? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_afraid" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_afraid" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_afraid" value="prefer_not" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Prefer not to answer</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Have you experienced verbal, physical, or financial abuse in the past? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_abuse" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_abuse" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_past_abuse" value="prefer_not" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Prefer not to answer</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">History of childhood trauma? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_childhood_trauma" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_childhood_trauma" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_childhood_trauma" value="prefer_not" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Prefer not to answer</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Would you like to seek help or support for any relationship or safety issues? <span class="text-red-600">*</span></label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_wants_help" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_wants_help" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer hover:bg-stone-100 p-2 rounded">
                                    <input type="radio" name="rs_wants_help" value="not_now" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Not at this time</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Step 8: Menopause Symptoms -->
                <section class="step-section" data-step="8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-teal-600 pb-2">Menopause Symptoms</h2>
                    <p class="text-gray-600 mb-6">Please rate the severity of any symptoms you're experiencing.</p>
                    
                    <div class="overflow-x-auto mb-6">
                        <table class="w-full border-collapse border border-gray-300">
                            <thead>
                                <tr class="bg-gray-800 text-white">
                                    <th class="border border-gray-300 p-3 text-left">Symptom</th>
                                    <th class="border border-gray-300 p-3 text-center">None</th>
                                    <th class="border border-gray-300 p-3 text-center">Mild</th>
                                    <th class="border border-gray-300 p-3 text-center">Moderate</th>
                                    <th class="border border-gray-300 p-3 text-center">Severe</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Hot flushes/night sweats</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_hot_flushes" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_hot_flushes" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_hot_flushes" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_hot_flushes" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Irritability</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_irritability" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_irritability" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_irritability" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_irritability" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Low mood/Depression</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_depression" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_depression" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_depression" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_depression" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Anxiety</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_anxiety" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_anxiety" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_anxiety" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_anxiety" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Mood swings</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_mood_swings" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_mood_swings" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_mood_swings" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_mood_swings" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Poor sleep/Insomnia</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_sleep" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_sleep" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_sleep" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_sleep" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Fatigue</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_fatigue" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_fatigue" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_fatigue" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_fatigue" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Reduced sexual desire</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_libido" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_libido" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_libido" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_libido" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Vaginal dryness</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_vaginal_dryness" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_vaginal_dryness" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_vaginal_dryness" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_vaginal_dryness" value="severe" class="w-5 h-5"></td>
                                </tr>
                                <tr class="hover:bg-gray-50">
                                    <td class="border border-gray-300 p-3">Painful intercourse</td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_painful_sex" value="none" checked class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_painful_sex" value="mild" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_painful_sex" value="moderate" class="w-5 h-5"></td>
                                    <td class="border border-gray-300 p-3 text-center"><input type="radio" name="sym_painful_sex" value="severe" class="w-5 h-5"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="text-lg font-semibold text-gray-800 mb-3 border-l-4 border-teal-600 pl-3">Current Menopause Management</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-700">Are you currently taking HRT or other medications for menopause symptoms? <span class="text-red-600">*</span></label>
                            <div class="flex gap-4">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="taking_hrt" value="yes" class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">Yes</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="taking_hrt" value="no" checked class="w-4 h-4 text-teal-600">
                                    <span class="text-sm">No</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">Please list all HRT medications with doses</label>
                            <textarea id="hrt_details" rows="3" placeholder="e.g., 'Estradot 50mcg patch twice weekly, Prometrium 100mg daily'" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1 text-gray-700">What other approaches are you using to manage symptoms?</label>
                            <textarea id="other_management" rows="3" placeholder="e.g., lifestyle changes, supplements, complementary therapies" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-500 focus:border-transparent"></textarea>
                        </div>
                    </div>
                </section>

                <!-- Navigation Buttons -->
                <div class="flex justify-between items-center mt-8 pt-6 border-t-2 border-gray-200">
                    <button type="button" id="prevBtn" onclick="changeStep(-1)" style="display:none;" class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all">
                        ← Previous
                    </button>
                    <button type="button" id="nextBtn" onclick="changeStep(1)" class="bg-teal-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-teal-700 transition-all ml-auto">
                        Next →
                    </button>
                    <button type="submit" id="submitBtn" style="display:none;" class="bg-teal-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-teal-700 transition-all">
                        Submit Questionnaire
                    </button>
                </div>
            </form>

            <div id="loading" style="display:none;" class="mt-8 text-center">
                <div class="inline-block w-12 h-12 border-4 border-teal-200 border-t-teal-600 rounded-full animate-spin"></div>
                <p class="mt-4 text-gray-600">Submitting your questionnaire...</p>
            </div>
        </div>

        <!-- Footer -->
        <div class="bg-stone-100 border-t border-stone-200 p-6 text-center text-sm text-gray-600">
            <p>Developed by <strong class="text-teal-800">Dr Premila Hewage</strong> | <a href="https://www.pausesleep.com.au" target="_blank" class="text-teal-700 hover:text-teal-800 underline">www.PauseSleep.com.au</a></p>
            <p class="mt-1 text-xs text-gray-500">Evidence-Based Women's Health Care</p>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 8;

        // Show/hide weight management section based on reason for visit
        document.getElementById('reason_weight').addEventListener('change', function() {
            const wmSection = document.getElementById('weight_management_section');
            if (this.checked) {
                wmSection.style.display = 'block';
            } else {
                wmSection.style.display = 'none';
            }
        });

        function showStep(step) {
            const sections = document.querySelectorAll('.step-section');
            sections.forEach((section, index) => {
                if (index + 1 === step) {
                    section.classList.add('active');
                } else {
                    section.classList.remove('active');
                }
            });

            // Update buttons
            document.getElementById('prevBtn').style.display = step === 1 ? 'none' : 'inline-block';
            document.getElementById('nextBtn').style.display = step === totalSteps ? 'none' : 'inline-block';
            document.getElementById('submitBtn').style.display = step === totalSteps ? 'inline-block' : 'none';

            // Update progress
            const progress = (step / totalSteps) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('stepIndicator').textContent = `Step ${step} of ${totalSteps}`;
            document.getElementById('progressPercent').textContent = Math.round(progress) + '%';

            currentStep = step;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function changeStep(direction) {
            const newStep = currentStep + direction;
            if (newStep >= 1 && newStep <= totalSteps) {
                showStep(newStep);
            }
        }

        function getRadioValue(name) {
            const el = document.querySelector(`input[name="${name}"]:checked`);
            return el ? el.value : "";
        }

        function getValue(id) {
            const el = document.getElementById(id);
            return el ? el.value.trim() : "";
        }

        function getChecked(id) {
            const el = document.getElementById(id);
            return el ? el.checked : false;
        }

        document.getElementById('womensHealthForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const nameField = document.getElementById('patient_name');
            const dobField = document.getElementById('dob');

            if (!nameField.value.trim()) {
                alert('Please enter your name before submitting.');
                showStep(1);
                nameField.focus();
                return;
            }

            if (!dobField.value) {
                alert('Please enter your date of birth before submitting.');
                showStep(1);
                dobField.focus();
                return;
            }

            document.getElementById('loading').style.display = 'block';
            document.getElementById('submitBtn').disabled = true;

            const data = {
                patient_name: getValue("patient_name"),
                dob: getValue("dob"),
                height_cm: getValue("height_cm"),
                weight_kg: getValue("weight_kg"),
                reason_for_visit: {
                    menopause: getChecked("reason_menopause"),
                    weight_management: getChecked("reason_weight"),
                    contraception: getChecked("reason_contraception"),
                    periods: getChecked("reason_periods"),
                    sexual_health: getChecked("reason_sexual"),
                    bladder: getChecked("reason_bladder"),
                    breast: getChecked("reason_breast"),
                    mental_health: getChecked("reason_mental"),
                    other_checked: getChecked("reason_other_check"),
                    other_text: getValue("reason_other_text")
                },
                medical_history_safety: {
                    breast_cancer: getChecked("hx_breast_cancer"),
                    blood_clot: getChecked("hx_blood_clot"),
                    heart_stroke: getChecked("hx_heart_stroke"),
                    liver_disease: getChecked("hx_liver"),
                    endometrial_cancer: getChecked("hx_endometrial"),
                    ovarian_cancer: getChecked("hx_ovarian"),
                    melanoma: getChecked("hx_melanoma"),
                    vaginal_bleeding: getChecked("hx_vaginal_bleeding"),
                    none: getChecked("hx_none"),
                    details: getValue("hx_details")
                },
                allergies: {
                    has_allergies: getRadioValue("has_allergies"),
                    allergy1: { 
                        medication: getValue("allergy1_med"), 
                        reaction: getValue("allergy1_reaction") 
                    },
                    allergy2: { 
                        medication: getValue("allergy2_med"), 
                        reaction: getValue("allergy2_reaction") 
                    }
                },
                other_conditions: getValue("other_conditions"),
                current_medications: getValue("current_medications"),
                menstrual_reproductive: {
                    period_status: getRadioValue("period_status"),
                    periods_stopped_when: getValue("periods_stopped_when"),
                    concerns: {
                        bleeding_outside: getChecked("concern_bleeding_outside"),
                        pain_with_sex: getChecked("concern_pain_sex"),
                        painful_periods: getChecked("concern_painful"),
                        heavy_periods: getChecked("concern_heavy"),
                        prolonged_periods: getChecked("concern_prolonged")
                    },
                    additional_details: getValue("menstrual_details"),
                    using_contraception: getRadioValue("using_contraception"),
                    contraception_method: getValue("contraception_method")
                },
                pregnancy_history: {
                    num_pregnancies: getValue("num_pregnancies"),
                    num_vaginal: getValue("num_vaginal"),
                    num_caesarean: getValue("num_caesarean"),
                    num_miscarriages: getValue("num_miscarriages"),
                    complications: getValue("pregnancy_complications")
                },
                screening: {
                    cervical_year: getValue("screen_cervical_year"),
                    cervical_result: getRadioValue("cervical_result"),
                    mammogram_year: getValue("screen_mammo_year"),
                    bone_density_year: getValue("screen_bone_year")
                },
                family_history: {
                    breast_cancer: getChecked("fh_breast"),
                    ovarian_cancer: getChecked("fh_ovarian"),
                    heart_attack: getChecked("fh_heart"),
                    stroke: getChecked("fh_stroke"),
                    blood_clots: getChecked("fh_clots"),
                    diabetes: getChecked("fh_diabetes"),
                    none: getChecked("fh_none"),
                    details: getValue("fh_details")
                },
                lifestyle: {
                    current_smoke: getRadioValue("current_smoke"),
                    past_smoke: getRadioValue("past_smoke"),
                    alcohol_use: getRadioValue("alcohol_use"),
                    exercise_frequency: getRadioValue("exercise_freq")
                },
                weight_management_safety: {
                    pancreatitis: getChecked("wm_pancreatitis"),
                    gallbladder: getChecked("wm_gallbladder"),
                    thyroid_cancer: getChecked("wm_thyroid_cancer"),
                    men2: getChecked("wm_men2"),
                    none: getChecked("wm_none")
                },
                relationship_safety: {
                    current_afraid: getRadioValue("rs_current_afraid"),
                    current_abuse: getRadioValue("rs_current_abuse"),
                    past_afraid: getRadioValue("rs_past_afraid"),
                    past_abuse: getRadioValue("rs_past_abuse"),
                    childhood_trauma: getRadioValue("rs_childhood_trauma"),
                    wants_help: getRadioValue("rs_wants_help")
                },
                menopause_symptoms: {
                    hot_flushes: getRadioValue("sym_hot_flushes"),
                    irritability: getRadioValue("sym_irritability"),
                    depression: getRadioValue("sym_depression"),
                    anxiety: getRadioValue("sym_anxiety"),
                    mood_swings: getRadioValue("sym_mood_swings"),
                    sleep: getRadioValue("sym_sleep"),
                    fatigue: getRadioValue("sym_fatigue"),
                    libido: getRadioValue("sym_libido"),
                    vaginal_dryness: getRadioValue("sym_vaginal_dryness"),
                    painful_sex: getRadioValue("sym_painful_sex")
                },
                menopause_management: {
                    taking_hrt: getRadioValue("taking_hrt"),
                    hrt_details: getValue("hrt_details"),
                    other_management: getValue("other_management")
                }
            };

            try {
                const response = await fetch(
                    "https://gekabqqvbgvjtstxqsie.supabase.co/functions/v1/submit-womens-form",
                    {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify(data)
                    }
                );

                if (!response.ok) {
                    const result = await response.json();
                    throw new Error(JSON.stringify(result));
                }

                window.location.href = "thank-you.html";

            } catch (err) {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('submitBtn').disabled = false;
                alert("Submission error: " + err.message + "\n\nPlease check your internet connection and try again.");
            }
        });

        // Initialize
        showStep(1);
    </script>
</body>
</html>